# See https://pre-commit.com for more information
# See https://pre-commit.com/hooks.html for more hooks
repos:
-   repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.3.0
    hooks:
    -   id: trailing-whitespace
    -   id: end-of-file-fixer
    -   id: check-yaml
    -   id: check-added-large-files
    -   id: check-case-conflict
    -   id: check-merge-conflict
    -   id: check-toml
    -   id: check-docstring-first
    -   id: fix-encoding-pragma
    -   id: requirements-txt-fixer
    -   id: check-symlinks
    -   id: destroyed-symlinks
- repo: https://github.com/pre-commit/mirrors-mypy
  rev: v0.981
  hooks:
    - id: mypy
- repo: https://github.com/pre-commit/pygrep-hooks
  rev: v1.9.0
  hooks:
    - id: rst-backticks
    - id: rst-directive-colons
- repo: https://github.com/asottile/setup-cfg-fmt
  rev: v1.20.1
  hooks:
    - id: setup-cfg-fmt
- repo: https://github.com/psf/black
  rev: 22.8.0
  hooks:
    - id: black
- repo: https://github.com/PyCQA/isort
  rev: 5.10.1
  hooks:
    - id: isort
- repo: https://github.com/PyCQA/flake8
  rev: 5.0.4
  hooks:
    - id: flake8
      additional_dependencies: ['flake8-docstrings', 'flake8-rst-docstrings', 'pep8-naming', 'flake8-print', 'flake8-bugbear', 'flake8-2020', 'flake8-implicit-str-concat']
- repo: https://github.com/PyCQA/pydocstyle
  rev: 6.1.1
  hooks:
    - id: pydocstyle
      additional_dependencies: ["toml"]
- repo: https://github.com/python-jsonschema/check-jsonschema
  rev: 0.18.3
  hooks:
    - id: check-github-workflows
- repo: https://github.com/PyCQA/docformatter
  rev: v1.5.0
  hooks:
    - id: docformatter
- repo: https://github.com/DanielNoord/pydocstringformatter
  rev: v0.7.2
  hooks:
    - id: pydocstringformatter
# - repo: https://github.com/PyCQA/pylint
#   rev: v2.15.3
#   hooks:
#     - id: pylint
#       additional_dependencies: ['numpy', 'numexpr', 'netCDF4']
- repo: local
  hooks:
    - id: setuptools-check
      name: setuptools-check
      language: python
      additional_dependencies: ["setuptools", "scikit-build"]
      entry: bash -c "cd computeCirc_v1.1; python setup.py check"
      files: "^computeCirc_v1.1/(setup\\.(py|cfg)$|pyproject\\.toml$|src/)"
      types_or: ["python", "toml", "ini"]
      pass_filenames: false
      description: "Check setuptools metadata"
    - id: setuptools-build-py
      name: setuptools-build-py
      language: python
      additional_dependencies: ["setuptools", "scikit-build"]
      entry: bash -c "cd computeCirc_v1.1; python setup.py build_py"
      files: "^computeCirc_v1.1/(setup\\.(py|cfg)$|pyproject\\.toml$|src/)"
      types_or: ["python", "toml", "ini"]
      pass_filenames: false
      description: "Check setuptools metadata"
    # - id: build-sdist-wheel
    #   name: build-sdist-wheel
    #   language: python
    #   additional_dependencies: ['build', "setuptools>=40.8.0", "wheel"]
    #   entry: pyproject-build
    #   files: "^setup\\.(py|cfg)$|^pyproject\\.toml$|^src/advection/"
    #   types_or: ["python", "toml", "ini"]
    #   pass_filenames: false
    #   description: "Check that package can build an sdist and build a wheel from the sdist"
    # - id: twine-check
    #   name: twine-check
    #   language: python
    #   additional_dependencies: ['twine']
    #   entry: python -m twine check dist/*
    #   files: "^setup\\.(py|cfg)$|^pyproject\\.toml$|^src/advection/"
    #   types_or: ["python", "toml", "ini"]
    #   pass_filenames: false
    #   description:
